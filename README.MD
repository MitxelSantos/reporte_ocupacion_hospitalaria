# ğŸ¥ Sistema de AnÃ¡lisis de Capacidad Hospitalaria - Tolima

**Generador de Informes Final Optimizado de Capacidad Hospitalaria**  
*SecretarÃ­a de Salud del Tolima*

---

## ğŸ“‹ DescripciÃ³n

Sistema integral para el anÃ¡lisis y generaciÃ³n de informes detallados sobre la capacidad hospitalaria del departamento del Tolima. Esta herramienta procesa datos de ocupaciÃ³n hospitalaria y genera reportes PDF profesionales con anÃ¡lisis exhaustivos, grÃ¡ficos optimizados y alertas crÃ­ticas.

### âœ¨ CaracterÃ­sticas Principales

- **ğŸ›ï¸ AnÃ¡lisis CAMAS vs CAMILLAS**: DistinciÃ³n completa en todos los anÃ¡lisis
- **ğŸ“Š GrÃ¡ficos Optimizados**: Visualizaciones de alta calidad con mayor altura vertical
- **ğŸ“‹ Alertas en Tabla**: Formato estructurado para alertas crÃ­ticas
- **ğŸ—ºï¸ AnÃ¡lisis Territorial**: Cobertura completa de municipios y prestadores
- **ğŸ¥ Detalle Institucional**: AnÃ¡lisis especÃ­fico por prestador y sede
- **ğŸ“ˆ Reportes PDF**: Documentos profesionales listos para presentaciÃ³n

## ğŸ› ï¸ TecnologÃ­as

- **Python 3.8+**
- **pandas**: Procesamiento de datos
- **matplotlib**: GeneraciÃ³n de grÃ¡ficos
- **numpy**: CÃ¡lculos numÃ©ricos
- **reportlab**: GeneraciÃ³n de PDF
- **openpyxl**: Lectura de archivos Excel

## ğŸ“¦ InstalaciÃ³n

### Prerrequisitos

- Python 3.8 o superior
- pip (gestor de paquetes de Python)

### InstalaciÃ³n de Dependencias

```bash
# Clonar el repositorio
git clone <url-del-repositorio>
cd hospital-capacity-analysis

# Crear entorno virtual (recomendado)
python -m venv venv

# Activar entorno virtual
# En Windows:
venv\Scripts\activate
# En macOS/Linux:
source venv/bin/activate

# Instalar dependencias
pip install -r requirements.txt
```

## ğŸš€ Uso

### Comando BÃ¡sico

```bash
python hospital_report.py archivo_datos.xlsx [archivo_salida.pdf]
```

### Ejemplos de Uso

```bash
# Generar informe con nombre automÃ¡tico
python hospital_report.py datos_hospitalarios_2024.xlsx

# Generar informe con nombre especÃ­fico
python hospital_report.py datos_hospitalarios_2024.xlsx informe_enero_2024.pdf

# Ver ayuda y caracterÃ­sticas del sistema
python hospital_report.py
```

## ğŸ“Š Estructura del Informe

El informe generado incluye las siguientes secciones:

### 1. ğŸ“ˆ Resumen Ejecutivo General
- EstadÃ­sticas generales del Tolima
- AnÃ¡lisis CAMAS vs CAMILLAS
- Indicadores clave de ocupaciÃ³n

### 2. ğŸ“Š AnÃ¡lisis GrÃ¡fico Optimizado
- GrÃ¡ficos de capacidad y ocupaciÃ³n
- Comparativas por municipios
- Visualizaciones por tipo de capacidad

### 3. ğŸš¨ Alertas CrÃ­ticas Detalladas
- Municipios con ocupaciÃ³n crÃ­tica (â‰¥90%)
- Sedes especÃ­ficas en estado crÃ­tico
- Tipos de capacidad con alta ocupaciÃ³n

### 4. ğŸ›ï¸ AnÃ¡lisis por Tipos de Capacidad
- DistinciÃ³n completa CAMAS/CAMILLAS
- UCI, Cuidado Intermedio, HospitalizaciÃ³n
- ObservaciÃ³n por grupos etarios

### 5. ğŸ›ï¸ AnÃ¡lisis Detallado de IbaguÃ©
- Capital departamental con anÃ¡lisis especÃ­fico
- Desglose por tipo de capacidad
- Comparativas con el resto del departamento

### 6. ğŸ—ºï¸ AnÃ¡lisis Municipal y de Prestadores
- Todos los municipios del Tolima
- Prestadores especÃ­ficos por municipio
- Instituciones pÃºblicas vs privadas

## ğŸ“ Estructura de Archivos

```
hospital-capacity-analysis/
â”œâ”€â”€ hospital_report.py          # Script principal
â”œâ”€â”€ requirements.txt            # Dependencias Python
â”œâ”€â”€ README.md                   # DocumentaciÃ³n
â”œâ”€â”€ .gitignore                 # Archivos ignorados por Git
â”œâ”€â”€ LICENSE                    # Licencia del proyecto
â”œâ”€â”€ examples/                  # Ejemplos de uso
â”‚   â””â”€â”€ sample_data.xlsx       # Datos de ejemplo
â””â”€â”€ docs/                      # DocumentaciÃ³n adicional
    â”œâ”€â”€ manual_usuario.md      # Manual de usuario
    â””â”€â”€ especificaciones.md    # Especificaciones tÃ©cnicas
```

## ğŸ“‹ Formato de Datos de Entrada

El archivo Excel debe contener las siguientes columnas:

| Columna | DescripciÃ³n | Tipo |
|---------|-------------|------|
| `fecha_registro` | Fecha del registro | Fecha |
| `municipio_sede_prestador` | Municipio de la sede | Texto |
| `nombre_prestador` | Nombre del prestador de salud | Texto |
| `nombre_sede_prestador` | Nombre de la sede especÃ­fica | Texto |
| `numero_sede` | NÃºmero identificador de la sede | NumÃ©rico |
| `nombre_capacidad_instalada` | Tipo de capacidad (camas/camillas) | Texto |
| `cantidad_ci_TOTAL_REPS` | Capacidad total disponible | NumÃ©rico |
| `ocupacion_ci_confirmado_covid19` | OcupaciÃ³n COVID-19 confirmado | NumÃ©rico |
| `ocupacion_ci_sospechoso_covid19` | OcupaciÃ³n COVID-19 sospechoso | NumÃ©rico |
| `ocupacion_ci_no_covid19` | OcupaciÃ³n no COVID-19 | NumÃ©rico |
| `cantidad_ci_disponibles` | Capacidad disponible | NumÃ©rico |
| `total_ingresos_paciente_servicio` | Total de pacientes ingresados | NumÃ©rico |
| `naturaleza_juridica` | Tipo de instituciÃ³n | Texto |

## ğŸ”§ ConfiguraciÃ³n

### Colores Institucionales

El sistema utiliza los colores oficiales de la SecretarÃ­a de Salud del Tolima:

```python
COLORS = {
    "primary": "#7D0F2B",      # Rojo institucional
    "secondary": "#F2A900",     # Amarillo dorado
    "accent": "#5A4214",        # MarrÃ³n
    "success": "#509E2F",       # Verde
    "warning": "#F7941D",       # Naranja
    "white": "#FFFFFF",         # Blanco
}
```

### Umbrales de Alertas

- **ğŸŸ¢ Normal**: < 70% de ocupaciÃ³n
- **ğŸŸ¡ Advertencia**: 70% - 89% de ocupaciÃ³n
- **ğŸ”´ CrÃ­tico**: â‰¥ 90% de ocupaciÃ³n

## ğŸ¤ ContribuciÃ³n

Para contribuir al proyecto:

1. Fork el repositorio
2. Crea una rama para tu feature (`git checkout -b feature/nueva-funcionalidad`)
3. Commit tus cambios (`git commit -am 'Agregar nueva funcionalidad'`)
4. Push a la rama (`git push origin feature/nueva-funcionalidad`)
5. Crea un Pull Request

## ğŸ“ Changelog

### VersiÃ³n 1.0.0 (Actual)
- âœ… AnÃ¡lisis completo CAMAS vs CAMILLAS
- âœ… GrÃ¡ficos optimizados con mayor altura
- âœ… Alertas crÃ­ticas en formato tabla
- âœ… AnÃ¡lisis detallado por municipio y prestador
- âœ… GeneraciÃ³n de PDF profesional
- âœ… Soporte para datos COVID-19 y no COVID-19

## ğŸ› Reporte de Problemas

Si encuentras algÃºn problema o tienes sugerencias:

1. Revisa los [issues existentes](../../issues)
2. Si no existe, crea un nuevo issue con:
   - DescripciÃ³n detallada del problema
   - Pasos para reproducir
   - Archivos de ejemplo (sin datos sensibles)
   - VersiÃ³n de Python y SO

## ğŸ“ Soporte

Para soporte tÃ©cnico o consultas:

- **Desarrollador**: Ing. JosÃ© Miguel Santos
- **InstituciÃ³n**: SecretarÃ­a de Salud del Tolima
- **Email**: [contacto institucional]

## ğŸ” Seguridad y Privacidad

- âš ï¸ **Datos Sensibles**: No incluir archivos Excel con datos reales en el repositorio
- ğŸ”’ **Confidencialidad**: Los reportes generados pueden contener informaciÃ³n sensible
- ğŸš« **Exclusiones**: El `.gitignore` estÃ¡ configurado para excluir datos hospitalarios

## ğŸ“„ Licencia

Este proyecto estÃ¡ bajo la Licencia MIT. Ver el archivo [LICENSE](LICENSE) para mÃ¡s detalles.

---

**Â© 2025 - SecretarÃ­a de Salud del Tolima**  
*Sistema Final Optimizado de Monitoreo Hospitalario*